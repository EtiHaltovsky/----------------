{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport React, { useEffect, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { AppStyles } from \"../AppStyles\";\nimport auth from '@react-native-firebase/auth';\nimport firestore from '@react-native-firebase/firestore';\nimport { GoogleSignin, GoogleSigninButton } from '@react-native-google-signin/google-signin';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { useDispatch } from 'react-redux';\nvar FBSDK = require('react-native-fbsdk');\nvar LoginManager = FBSDK.LoginManager,\n  AccessToken = FBSDK.AccessToken;\nimport { login } from \"../reducers\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction LoginScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    loading = _useState2[0],\n    setLoading = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    email = _useState4[0],\n    setEmail = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    password = _useState6[0],\n    setPassword = _useState6[1];\n  var dispatch = useDispatch();\n  useEffect(function () {\n    GoogleSignin.configure({\n      webClientId: '763342324681-petgvkkeltcfi9qmgr8um8ohak81l953.apps.googleusercontent.com'\n    });\n  }, []);\n  var onPressLogin = function onPressLogin() {\n    if (email.length <= 0 || password.length <= 0) {\n      Alert.alert('Please fill out the required fields.');\n      return;\n    }\n    auth().signInWithEmailAndPassword(email, password).then(function (response) {\n      var user_uid = response.user._user.uid;\n      firestore().collection('users').doc(user_uid).get().then(function (user) {\n        if (user.exists) {\n          AsyncStorage.setItem('@loggedInUserID:id', user_uid);\n          AsyncStorage.setItem('@loggedInUserID:key', email);\n          AsyncStorage.setItem('@loggedInUserID:password', password);\n          dispatch(login(user.data()));\n          navigation.navigate('DrawerStack');\n        } else {\n          Alert.alert('User does not exist. Please try again.');\n        }\n      }).catch(function (error) {\n        var message = error.message;\n        Alert.alert(message);\n      });\n    }).catch(function (error) {\n      var message = error.message;\n      Alert.alert(message);\n    });\n  };\n  var onPressFacebook = function onPressFacebook() {\n    LoginManager.logInWithPermissions(['public_profile', 'user_friends', 'email']).then(function (result) {\n      if (result.isCancelled) {\n        Alert.alert('Whoops!', 'You cancelled the sign in.');\n      } else {\n        AccessToken.getCurrentAccessToken().then(function (data) {\n          var credential = firebase.auth.FacebookAuthProvider.credential(data.accessToken);\n          var accessToken = data.accessToken;\n          auth().signInWithCredential(credential).then(function (result) {\n            var user = result.user;\n            AsyncStorage.setItem('@loggedInUserID:facebookCredentialAccessToken', accessToken);\n            AsyncStorage.setItem('@loggedInUserID:id', user.uid);\n            var userDict = {\n              id: user.uid,\n              fullname: user.displayName,\n              email: user.email,\n              profileURL: user.photoURL\n            };\n            var userData = _objectSpread(_objectSpread({}, userDict), {}, {\n              appIdentifier: 'rn-android-universal-listings'\n            });\n            firestore().collection('users').doc(user.uid).set(userData);\n            dispatch(login(userDict));\n            navigation.navigate('DrawerStack', {\n              user: userDict\n            });\n          }).catch(function (error) {\n            alert('Please try again! ' + error);\n          });\n        });\n      }\n    }, function (error) {\n      Alert.alert('Sign in error', error);\n    });\n  };\n  var onPressGoogle = function onPressGoogle() {\n    setLoading(true);\n    GoogleSignin.signIn().then(function (data) {\n      console.log('data', data);\n      var credential = firebase.auth.GoogleAuthProvider.credential(data.idToken);\n      var accessToken = data.idToken;\n      AsyncStorage.setItem('@loggedInUserID:googleCredentialAccessToken', accessToken);\n      return auth().signInWithCredential(credential);\n    }).then(function (result) {\n      setLoading(false);\n      var user = result.user;\n      AsyncStorage.setItem('@loggedInUserID:id', user.uid);\n      var userDict = {\n        id: user.uid,\n        fullname: user.displayName,\n        email: user.email,\n        photoURL: user.photoURL\n      };\n      var data = _objectSpread(_objectSpread({}, userDict), {}, {\n        appIdentifier: 'rn-android-universal-listings'\n      });\n      console.log('data', data);\n      firestore().collection('users').doc(user.uid).set(data);\n      dispatch(login(userDict));\n      navigation.navigate('DrawerStack', {\n        user: userDict\n      });\n    }).catch(function (error) {\n      var message = error.message;\n      setLoading(false);\n      Alert.alert(message);\n    });\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: [styles.title, styles.leftTitle],\n      children: \"Sign In\"\n    }), _jsx(View, {\n      style: styles.InputContainer,\n      children: _jsx(TextInput, {\n        style: styles.body,\n        placeholder: \"E-mail or phone number\",\n        onChangeText: setEmail,\n        value: email,\n        placeholderTextColor: AppStyles.color.grey,\n        underlineColorAndroid: \"transparent\"\n      })\n    }), _jsx(View, {\n      style: styles.InputContainer,\n      children: _jsx(TextInput, {\n        style: styles.body,\n        secureTextEntry: true,\n        placeholder: \"Password\",\n        onChangeText: setPassword,\n        value: password,\n        placeholderTextColor: AppStyles.color.grey,\n        underlineColorAndroid: \"transparent\"\n      })\n    }), _jsx(TouchableOpacity, {\n      style: styles.loginContainer,\n      onPress: function onPress() {\n        return onPressLogin();\n      },\n      children: _jsx(Text, {\n        style: styles.loginText,\n        children: \"Log in\"\n      })\n    }), _jsx(Text, {\n      style: styles.or,\n      children: \"OR\"\n    }), _jsx(TouchableOpacity, {\n      style: styles.facebookContainer,\n      onPress: function onPress() {\n        return onPressFacebook();\n      },\n      children: _jsx(Text, {\n        style: styles.facebookText,\n        children: \"Login with Facebook\"\n      })\n    }), loading ? _jsx(ActivityIndicator, {\n      style: {\n        marginTop: 30\n      },\n      size: \"large\",\n      animating: loading,\n      color: AppStyles.color.tint\n    }) : _jsx(GoogleSigninButton, {\n      style: styles.googleContainer,\n      size: GoogleSigninButton.Size.Wide,\n      color: GoogleSigninButton.Color.Light,\n      onPress: onPressGoogle\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center'\n  },\n  or: {\n    color: 'black',\n    marginTop: 40,\n    marginBottom: 10\n  },\n  title: {\n    fontSize: AppStyles.fontSize.title,\n    fontWeight: 'bold',\n    color: AppStyles.color.tint,\n    marginTop: 20,\n    marginBottom: 20\n  },\n  leftTitle: {\n    alignSelf: 'stretch',\n    textAlign: 'left',\n    marginLeft: 20\n  },\n  content: {\n    paddingLeft: 50,\n    paddingRight: 50,\n    textAlign: 'center',\n    fontSize: AppStyles.fontSize.content,\n    color: AppStyles.color.text\n  },\n  loginContainer: {\n    alignItems: 'center',\n    width: AppStyles.buttonWidth.main,\n    backgroundColor: AppStyles.color.tint,\n    borderRadius: AppStyles.borderRadius.main,\n    padding: 10,\n    marginTop: 30\n  },\n  loginText: {\n    color: AppStyles.color.white\n  },\n  placeholder: {\n    color: 'red'\n  },\n  InputContainer: {\n    width: AppStyles.textInputWidth.main,\n    marginTop: 30,\n    borderWidth: 1,\n    borderStyle: 'solid',\n    borderColor: AppStyles.color.grey,\n    borderRadius: AppStyles.borderRadius.main\n  },\n  body: {\n    height: 42,\n    paddingLeft: 20,\n    paddingRight: 20,\n    color: AppStyles.color.text\n  },\n  facebookContainer: {\n    alignItems: 'center',\n    width: 192,\n    backgroundColor: AppStyles.color.facebook,\n    borderRadius: AppStyles.borderRadius.main,\n    padding: 10,\n    marginTop: 30\n  },\n  facebookText: {\n    color: AppStyles.color.white\n  },\n  googleContainer: {\n    width: 192,\n    height: 48,\n    marginTop: 30\n  },\n  googleText: {\n    color: AppStyles.color.white\n  }\n});\nexport default LoginScreen;","map":{"version":3,"names":["React","useEffect","useState","StyleSheet","Text","TextInput","View","Alert","ActivityIndicator","TouchableOpacity","AppStyles","auth","firestore","GoogleSignin","GoogleSigninButton","AsyncStorage","useDispatch","FBSDK","require","LoginManager","AccessToken","login","jsx","_jsx","jsxs","_jsxs","LoginScreen","_ref","navigation","_useState","_useState2","_slicedToArray","loading","setLoading","_useState3","_useState4","email","setEmail","_useState5","_useState6","password","setPassword","dispatch","configure","webClientId","onPressLogin","length","alert","signInWithEmailAndPassword","then","response","user_uid","user","_user","uid","collection","doc","get","exists","setItem","data","navigate","catch","error","message","onPressFacebook","logInWithPermissions","result","isCancelled","getCurrentAccessToken","credential","firebase","FacebookAuthProvider","accessToken","signInWithCredential","userDict","id","fullname","displayName","profileURL","photoURL","userData","_objectSpread","appIdentifier","set","onPressGoogle","signIn","console","log","GoogleAuthProvider","idToken","style","styles","container","children","title","leftTitle","InputContainer","body","placeholder","onChangeText","value","placeholderTextColor","color","grey","underlineColorAndroid","secureTextEntry","loginContainer","onPress","loginText","or","facebookContainer","facebookText","marginTop","size","animating","tint","googleContainer","Size","Wide","Color","Light","create","flex","alignItems","marginBottom","fontSize","fontWeight","alignSelf","textAlign","marginLeft","content","paddingLeft","paddingRight","text","width","buttonWidth","main","backgroundColor","borderRadius","padding","white","textInputWidth","borderWidth","borderStyle","borderColor","height","facebook","googleText"],"sources":["C:/Users/This_user/final project eti/uniteapp/src/screens/LoginScreen.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {\n  StyleSheet,\n  Text,\n  TextInput,\n  View,\n  Alert,\n  ActivityIndicator,\n  TouchableOpacity,\n} from 'react-native';\n// import Button from 'react-native-button';\nimport {AppStyles} from '../AppStyles';\n// import firebase from '@react-native-firebase/app';\nimport auth from '@react-native-firebase/auth';\nimport firestore from '@react-native-firebase/firestore';\nimport {\n  GoogleSignin,\n  GoogleSigninButton,\n} from '@react-native-google-signin/google-signin';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport {useDispatch} from 'react-redux';\nconst FBSDK = require('react-native-fbsdk');\nconst {LoginManager, AccessToken} = FBSDK;\nimport {login} from '../reducers';\n\nfunction LoginScreen({navigation}) {\n  const [loading, setLoading] = useState(false);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    GoogleSignin.configure({\n      webClientId:\n        '763342324681-petgvkkeltcfi9qmgr8um8ohak81l953.apps.googleusercontent.com',\n    });\n  }, []);\n\n  const onPressLogin = () => {\n    if (email.length <= 0 || password.length <= 0) {\n      Alert.alert('Please fill out the required fields.');\n      return;\n    }\n    auth()\n      .signInWithEmailAndPassword(email, password)\n      .then((response) => {\n        const user_uid = response.user._user.uid;\n        firestore()\n          .collection('users')\n          .doc(user_uid)\n          .get()\n          .then(function (user) {\n            if (user.exists) {\n              AsyncStorage.setItem('@loggedInUserID:id', user_uid);\n              AsyncStorage.setItem('@loggedInUserID:key', email);\n              AsyncStorage.setItem('@loggedInUserID:password', password);\n              dispatch(login(user.data()));\n              navigation.navigate('DrawerStack');\n            } else {\n              Alert.alert('User does not exist. Please try again.');\n            }\n          })\n          .catch(function (error) {\n            const {message} = error;\n            Alert.alert(message);\n          });\n      })\n      .catch((error) => {\n        const {message} = error;\n        Alert.alert(message);\n        // For details of error codes, see the docs\n        // The message contains the default Firebase string\n        // representation of the error\n      });\n  };\n\n  const onPressFacebook = () => {\n    LoginManager.logInWithPermissions([\n      'public_profile',\n      'user_friends',\n      'email',\n    ]).then(\n      (result) => {\n        if (result.isCancelled) {\n          Alert.alert('Whoops!', 'You cancelled the sign in.');\n        } else {\n          AccessToken.getCurrentAccessToken().then((data) => {\n            const credential = firebase.auth.FacebookAuthProvider.credential(\n              data.accessToken,\n            );\n            const accessToken = data.accessToken;\n            auth()\n              .signInWithCredential(credential)\n              .then((result) => {\n                var user = result.user;\n                AsyncStorage.setItem(\n                  '@loggedInUserID:facebookCredentialAccessToken',\n                  accessToken,\n                );\n                AsyncStorage.setItem('@loggedInUserID:id', user.uid);\n                var userDict = {\n                  id: user.uid,\n                  fullname: user.displayName,\n                  email: user.email,\n                  profileURL: user.photoURL,\n                };\n                var userData = {\n                  ...userDict,\n                  appIdentifier: 'rn-android-universal-listings',\n                };\n                firestore().collection('users').doc(user.uid).set(userData);\n                dispatch(login(userDict));\n                navigation.navigate('DrawerStack', {\n                  user: userDict,\n                });\n              })\n              .catch((error) => {\n                alert('Please try again! ' + error);\n              });\n          });\n        }\n      },\n      (error) => {\n        Alert.alert('Sign in error', error);\n      },\n    );\n  };\n\n  const onPressGoogle = () => {\n    setLoading(true);\n    GoogleSignin.signIn()\n      .then((data) => {\n        console.log('data', data);\n        // Create a new Firebase credential with the token\n        const credential = firebase.auth.GoogleAuthProvider.credential(\n          data.idToken,\n        );\n        // Login with the credential\n        const accessToken = data.idToken;\n        AsyncStorage.setItem(\n          '@loggedInUserID:googleCredentialAccessToken',\n          accessToken,\n        );\n        return auth().signInWithCredential(credential);\n      })\n      .then((result) => {\n        setLoading(false);\n        var user = result.user;\n        AsyncStorage.setItem('@loggedInUserID:id', user.uid);\n        var userDict = {\n          id: user.uid,\n          fullname: user.displayName,\n          email: user.email,\n          photoURL: user.photoURL,\n        };\n        var data = {\n          ...userDict,\n          appIdentifier: 'rn-android-universal-listings',\n        };\n        console.log('data', data);\n        firestore().collection('users').doc(user.uid).set(data);\n        dispatch(login(userDict));\n        navigation.navigate('DrawerStack', {\n          user: userDict,\n        });\n      })\n      .catch((error) => {\n        const {message} = error;\n        setLoading(false);\n        Alert.alert(message);\n      });\n  };\n\n  return (\n    <View style={styles.container}>\n      <Text style={[styles.title, styles.leftTitle]}>Sign In</Text>\n      <View style={styles.InputContainer}>\n        <TextInput\n          style={styles.body}\n          placeholder=\"E-mail or phone number\"\n          onChangeText={setEmail}\n          value={email}\n          placeholderTextColor={AppStyles.color.grey}\n          underlineColorAndroid=\"transparent\"\n        />\n      </View>\n      <View style={styles.InputContainer}>\n        <TextInput\n          style={styles.body}\n          secureTextEntry={true}\n          placeholder=\"Password\"\n          onChangeText={setPassword}\n          value={password}\n          placeholderTextColor={AppStyles.color.grey}\n          underlineColorAndroid=\"transparent\"\n        />\n      </View>\n      <TouchableOpacity\n        style={styles.loginContainer}\n        onPress={() => onPressLogin()}>\n        <Text style={styles.loginText}>Log in</Text>\n      </TouchableOpacity>\n      <Text style={styles.or}>OR</Text>\n      <TouchableOpacity\n        style={styles.facebookContainer}\n        onPress={() => onPressFacebook()}>\n        <Text style={styles.facebookText}>Login with Facebook</Text>\n      </TouchableOpacity>\n      {loading ? (\n        <ActivityIndicator\n          style={{marginTop: 30}}\n          size=\"large\"\n          animating={loading}\n          color={AppStyles.color.tint}\n        />\n      ) : (\n        <GoogleSigninButton\n          style={styles.googleContainer}\n          size={GoogleSigninButton.Size.Wide}\n          color={GoogleSigninButton.Color.Light}\n          onPress={onPressGoogle}\n        />\n      )}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n  },\n  or: {\n    color: 'black',\n    marginTop: 40,\n    marginBottom: 10,\n  },\n  title: {\n    fontSize: AppStyles.fontSize.title,\n    fontWeight: 'bold',\n    color: AppStyles.color.tint,\n    marginTop: 20,\n    marginBottom: 20,\n  },\n  leftTitle: {\n    alignSelf: 'stretch',\n    textAlign: 'left',\n    marginLeft: 20,\n  },\n  content: {\n    paddingLeft: 50,\n    paddingRight: 50,\n    textAlign: 'center',\n    fontSize: AppStyles.fontSize.content,\n    color: AppStyles.color.text,\n  },\n  loginContainer: {\n    alignItems: 'center',\n    width: AppStyles.buttonWidth.main,\n    backgroundColor: AppStyles.color.tint,\n    borderRadius: AppStyles.borderRadius.main,\n    padding: 10,\n    marginTop: 30,\n  },\n  loginText: {\n    color: AppStyles.color.white,\n  },\n  placeholder: {\n    color: 'red',\n  },\n  InputContainer: {\n    width: AppStyles.textInputWidth.main,\n    marginTop: 30,\n    borderWidth: 1,\n    borderStyle: 'solid',\n    borderColor: AppStyles.color.grey,\n    borderRadius: AppStyles.borderRadius.main,\n  },\n  body: {\n    height: 42,\n    paddingLeft: 20,\n    paddingRight: 20,\n    color: AppStyles.color.text,\n  },\n  facebookContainer: {\n    alignItems: 'center',\n    width: 192,\n    backgroundColor: AppStyles.color.facebook,\n    borderRadius: AppStyles.borderRadius.main,\n    padding: 10,\n    marginTop: 30,\n  },\n  facebookText: {\n    color: AppStyles.color.white,\n  },\n  googleContainer: {\n    width: 192,\n    height: 48,\n    marginTop: 30,\n  },\n  googleText: {\n    color: AppStyles.color.white,\n  },\n});\n\nexport default LoginScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}