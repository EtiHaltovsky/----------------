{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { useNavigation } from '@react-navigation/native';\nimport axios from 'axios';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar HelpMassage = function HelpMassage(_ref) {\n  var rideDetails = _ref.rideDetails;\n  var navigation = useNavigation();\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isAccepted = _useState2[0],\n    setIsAccepted = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isLoading = _useState4[0],\n    setIsLoading = _useState4[1];\n  var handleAccept = function handleAccept() {\n    var response;\n    return _regeneratorRuntime.async(function handleAccept$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          setIsLoading(true);\n          _context.prev = 1;\n          _context.next = 4;\n          return _regeneratorRuntime.awrap(axios.patch(\"http://localhost:3000/rides/\" + rideDetails.id, {\n            status: 'accepted'\n          }));\n        case 4:\n          response = _context.sent;\n          if (response.status === 200) {\n            setIsAccepted(true);\n          }\n          _context.next = 12;\n          break;\n        case 8:\n          _context.prev = 8;\n          _context.t0 = _context[\"catch\"](1);\n          console.error(_context.t0);\n          Alert.alert('Error', 'Failed to accept ride. Please try again later.');\n        case 12:\n          setIsLoading(false);\n        case 13:\n        case \"end\":\n          return _context.stop();\n      }\n    }, null, null, [[1, 8]], Promise);\n  };\n  var handleReject = function handleReject() {\n    var response, volunteers;\n    return _regeneratorRuntime.async(function handleReject$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          setIsLoading(true);\n          _context2.prev = 1;\n          _context2.next = 4;\n          return _regeneratorRuntime.awrap(axios.get('http://localhost:8000/volunteers'));\n        case 4:\n          response = _context2.sent;\n          volunteers = response.data;\n          if (response.status === 200) {\n            navigation.navigate('RejectedRide', {\n              rideDetails: rideDetails\n            });\n          }\n          _context2.next = 13;\n          break;\n        case 9:\n          _context2.prev = 9;\n          _context2.t0 = _context2[\"catch\"](1);\n          console.error(_context2.t0);\n          Alert.alert('Error', 'Failed to reject ride. Please try again later.');\n        case 13:\n          setIsLoading(false);\n        case 14:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, null, null, [[1, 9]], Promise);\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.message,\n      children: rideDetails.details\n    }), isAccepted ? _jsx(Text, {\n      style: styles.acceptedText,\n      children: \"\\u05D4\\u05EA\\u05E0\\u05D3\\u05D1\\u05D5\\u05EA \\u05D6\\u05D5 \\u05D0\\u05D5\\u05E9\\u05E8\\u05D4 \\u05D1\\u05D4\\u05E6\\u05DC\\u05D7\\u05D4\"\n    }) : _jsxs(View, {\n      style: styles.buttonContainer,\n      children: [_jsx(TouchableOpacity, {\n        style: styles.acceptButton,\n        onPress: handleAccept,\n        disabled: isLoading,\n        children: isLoading ? _jsx(Text, {\n          style: styles.buttonText,\n          children: \"\\u05D8\\u05D5\\u05E2\\u05DF...\"\n        }) : _jsx(Text, {\n          style: styles.buttonText,\n          children: \"\\u05D0\\u05D9\\u05E9\\u05D5\\u05E8\"\n        })\n      }), _jsx(TouchableOpacity, {\n        style: styles.rejectButton,\n        onPress: handleReject,\n        disabled: isLoading,\n        children: isLoading ? _jsx(Text, {\n          style: styles.buttonText,\n          children: \"\\u05D8\\u05D5\\u05E2\\u05DF...\"\n        }) : _jsx(Text, {\n          style: styles.buttonText,\n          children: \"\\u05D3\\u05D7\\u05D9\\u05D9\\u05D4\"\n        })\n      })]\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: '#F0F8FF',\n    borderRadius: 10,\n    padding: 10,\n    margin: 10,\n    alignItems: 'center'\n  },\n  message: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    textAlign: 'center',\n    color: '#4B0082'\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    marginTop: 10\n  },\n  acceptButton: {\n    backgroundColor: '#00CED1',\n    padding: 10,\n    borderRadius: 10,\n    width: 120,\n    alignItems: 'center'\n  },\n  rejectButton: {\n    backgroundColor: '#FF6347',\n    padding: 10,\n    borderRadius: 10,\n    width: 120,\n    alignItems: 'center'\n  },\n  buttonText: {\n    color: '#FFFFFF',\n    fontWeight: 'bold',\n    fontSize: 16\n  }\n});\nexport default HelpMassage;","map":{"version":3,"names":["React","useState","View","Text","StyleSheet","TouchableOpacity","Alert","useNavigation","axios","jsx","_jsx","jsxs","_jsxs","HelpMassage","_ref","rideDetails","navigation","_useState","_useState2","_slicedToArray","isAccepted","setIsAccepted","_useState3","_useState4","isLoading","setIsLoading","handleAccept","response","_regeneratorRuntime","async","handleAccept$","_context","prev","next","awrap","patch","id","status","sent","t0","console","error","alert","stop","Promise","handleReject","volunteers","handleReject$","_context2","get","data","navigate","style","styles","container","children","message","details","acceptedText","buttonContainer","acceptButton","onPress","disabled","buttonText","rejectButton","create","backgroundColor","borderRadius","padding","margin","alignItems","fontSize","fontWeight","textAlign","color","flexDirection","justifyContent","marginTop","width"],"sources":["C:/Users/This_user/final project eti/uniteapp/components/HelpMassage.js"],"sourcesContent":["// import React from 'react';\r\n// import { View, Text, StyleSheet, TouchableOpacity } from 'react-native';\r\n\r\n// const HelpMassage = () => {\r\n\r\n//   const handleAccept = () => {\r\n//     // פעולות שייעשו בעת לחיצה על כפתור אישור\r\n//     // ניתן להשתמש כאן ב-fetch לשליפת הנתונים מ-MongoDB\r\n\r\n\r\n//   }\r\n\r\n//   const handleReject = () => {\r\n//     // פעולות שייעשו בעת לחיצה על כפתור דחייה\r\n//     // ניתן להשתמש כאן ב-fetch לשליפת הנתונים מ-MongoDB\r\n//   }\r\n\r\n//   return (\r\n//     <View style={styles.container}>\r\n//       <Text style={styles.message}>צריכים הסעה מאשדוד הלל 8 לבית החולים אסותא אשדוד בשעה 16:15 יום שלישי 16/02/2023</Text>\r\n//       <View style={styles.buttonContainer}>\r\n//         <TouchableOpacity style={styles.acceptButton} onPress={handleAccept}>\r\n//           <Text style={styles.buttonText}>אישור</Text>\r\n//         </TouchableOpacity>\r\n//         <TouchableOpacity style={styles.rejectButton} onPress={handleReject}>\r\n//           <Text style={styles.buttonText}>דחייה</Text>\r\n//         </TouchableOpacity>\r\n//       </View>\r\n//     </View>\r\n//   );\r\n// };\r\n\r\n// const styles = StyleSheet.create({\r\n//   container: {\r\n//     backgroundColor: '#F0F8FF',\r\n//     borderRadius: 10,\r\n//     padding: 10,\r\n//     margin: 10,\r\n//     alignItems: 'center'\r\n//   },\r\n//   message: {\r\n//     fontSize: 20,\r\n//     fontWeight: 'bold',\r\n//     textAlign: 'center',\r\n//     color: '#4B0082'\r\n//   },\r\n//   buttonContainer: {\r\n//     flexDirection: 'row',\r\n//     justifyContent: 'space-around',\r\n//     marginTop: 10\r\n//   },\r\n//   acceptButton: {\r\n//     backgroundColor: '#00CED1',\r\n//     padding: 10,\r\n//     borderRadius: 10,\r\n//     width: 120,\r\n//     alignItems: 'center'\r\n//   },\r\n//   rejectButton: {\r\n//     backgroundColor: '#FF6347',\r\n//     padding: 10,\r\n//     borderRadius: 10,\r\n//     width: 120,\r\n//     alignItems: 'center'\r\n//   },\r\n//   buttonText: {\r\n//     color: '#FFFFFF',\r\n//     fontWeight: 'bold',\r\n//     fontSize: 16\r\n//   }\r\n// });\r\n\r\n// export default HelpMassage;\r\n\r\n\r\nimport React, { useState } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, Alert } from 'react-native';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport axios from 'axios';\r\n\r\nconst HelpMassage = ({ rideDetails }) => {\r\n  const navigation = useNavigation();\r\n  const [isAccepted, setIsAccepted] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const handleAccept = async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await axios.patch(`http://localhost:3000/rides/${rideDetails.id}`, { status: 'accepted' });\r\n      if (response.status === 200) {\r\n        setIsAccepted(true);\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n      Alert.alert('Error', 'Failed to accept ride. Please try again later.');\r\n    }\r\n    setIsLoading(false);\r\n  };\r\n\r\n  const handleReject = async () => {\r\n    setIsLoading(true);\r\n    try {\r\n        const response = await axios.get('http://localhost:8000/volunteers');\r\nconst volunteers = response.data;\r\n\r\n    //   const response = await axios.patch(`http://localhost:8000/volunteers/${rideDetails.id}`, { status: 'rejected' });\r\n      if (response.status === 200) {\r\n        navigation.navigate('RejectedRide', { rideDetails });\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n      Alert.alert('Error', 'Failed to reject ride. Please try again later.');\r\n    }\r\n    setIsLoading(false);\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <Text style={styles.message}>{rideDetails.details}</Text>\r\n      {isAccepted ? (\r\n        <Text style={styles.acceptedText}>התנדבות זו אושרה בהצלחה</Text>\r\n      ) : (\r\n        <View style={styles.buttonContainer}>\r\n          <TouchableOpacity style={styles.acceptButton} onPress={handleAccept} disabled={isLoading}>\r\n            {isLoading ? (\r\n              <Text style={styles.buttonText}>טוען...</Text>\r\n            ) : (\r\n              <Text style={styles.buttonText}>אישור</Text>\r\n            )}\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={styles.rejectButton} onPress={handleReject} disabled={isLoading}>\r\n            {isLoading ? (\r\n              <Text style={styles.buttonText}>טוען...</Text>\r\n            ) : (\r\n              <Text style={styles.buttonText}>דחייה</Text>\r\n            )}\r\n          </TouchableOpacity>\r\n        </View>\r\n      )}\r\n    </View>\r\n  );\r\n};\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    backgroundColor: '#F0F8FF',\r\n    borderRadius: 10,\r\n    padding: 10,\r\n    margin: 10,\r\n    alignItems: 'center'\r\n  },\r\n  message: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    color: '#4B0082'\r\n  },\r\n  buttonContainer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-around',\r\n    marginTop: 10\r\n  },\r\n  acceptButton: {\r\n    backgroundColor: '#00CED1',\r\n    padding: 10,\r\n    borderRadius: 10,\r\n    width: 120,\r\n    alignItems: 'center'\r\n  },\r\n  rejectButton: {\r\n    backgroundColor: '#FF6347',\r\n    padding: 10,\r\n    borderRadius: 10,\r\n    width: 120,\r\n    alignItems: 'center'\r\n  },\r\n  buttonText: {\r\n    color: '#FFFFFF',\r\n    fontWeight: 'bold',\r\n    fontSize: 16\r\n  }\r\n});\r\n\r\nexport default HelpMassage;\r\n\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}