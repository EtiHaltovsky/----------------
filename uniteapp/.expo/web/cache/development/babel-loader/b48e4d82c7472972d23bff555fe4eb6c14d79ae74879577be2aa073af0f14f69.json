{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { AppStyles } from \"../AppStyles\";\nimport firestore from '@react-native-firebase/firestore';\nimport auth from '@react-native-firebase/auth';\nimport { useDispatch } from 'react-redux';\nimport { login } from \"../reducers\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction SignupScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    fullname = _useState2[0],\n    setFullname = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    phone = _useState4[0],\n    setPhone = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    email = _useState6[0],\n    setEmail = _useState6[1];\n  var _useState7 = useState(''),\n    _useState8 = _slicedToArray(_useState7, 2),\n    password = _useState8[0],\n    setPassword = _useState8[1];\n  var dispatch = useDispatch();\n  var onRegister = function onRegister() {\n    auth().createUserWithEmailAndPassword(email, password).then(function (response) {\n      var data = {\n        email: email,\n        fullname: fullname,\n        phone: phone,\n        appIdentifier: 'rn-android-universal-listings'\n      };\n      var user_uid = response.user._user.uid;\n      firestore().collection('users').doc(user_uid).set(data);\n      firestore().collection('users').doc(user_uid).get().then(function (user) {\n        dispatch(login(user.data()));\n        navigation.navigate('DrawerStack', {\n          user: user\n        });\n      }).catch(function (error) {\n        var code = error.code,\n          message = error.message;\n        Alert.alert(message);\n      });\n    }).catch(function (error) {\n      var code = error.code,\n        message = error.message;\n      Alert.alert(message);\n    });\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: [styles.title, styles.leftTitle],\n      children: \"Create new account\"\n    }), _jsx(View, {\n      style: styles.InputContainer,\n      children: _jsx(TextInput, {\n        style: styles.body,\n        placeholder: \"Full Name\",\n        onChangeText: setFullname,\n        value: fullname,\n        placeholderTextColor: AppStyles.color.grey,\n        underlineColorAndroid: \"transparent\"\n      })\n    }), _jsx(View, {\n      style: styles.InputContainer,\n      children: _jsx(TextInput, {\n        style: styles.body,\n        placeholder: \"Phone Number\",\n        onChangeText: setPhone,\n        value: phone,\n        placeholderTextColor: AppStyles.color.grey,\n        underlineColorAndroid: \"transparent\"\n      })\n    }), _jsx(View, {\n      style: styles.InputContainer,\n      children: _jsx(TextInput, {\n        style: styles.body,\n        placeholder: \"E-mail Address\",\n        onChangeText: setEmail,\n        value: email,\n        placeholderTextColor: AppStyles.color.grey,\n        underlineColorAndroid: \"transparent\"\n      })\n    }), _jsx(View, {\n      style: styles.InputContainer,\n      children: _jsx(TextInput, {\n        style: styles.body,\n        placeholder: \"Password\",\n        secureTextEntry: true,\n        onChangeText: setPassword,\n        value: password,\n        placeholderTextColor: AppStyles.color.grey,\n        underlineColorAndroid: \"transparent\"\n      })\n    }), _jsx(TouchableOpacity, {\n      style: [styles.facebookContainer, {\n        marginTop: 50\n      }],\n      onPress: function onPress() {\n        return onRegister();\n      },\n      children: _jsx(Text, {\n        style: styles.facebookText,\n        children: \"Sign Up\"\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center'\n  },\n  title: {\n    fontSize: AppStyles.fontSize.title,\n    fontWeight: 'bold',\n    color: AppStyles.color.tint,\n    marginTop: 20,\n    marginBottom: 20\n  },\n  leftTitle: {\n    alignSelf: 'stretch',\n    textAlign: 'left',\n    marginLeft: 20\n  },\n  content: {\n    paddingLeft: 50,\n    paddingRight: 50,\n    textAlign: 'center',\n    fontSize: AppStyles.fontSize.content,\n    color: AppStyles.color.text\n  },\n  loginContainer: {\n    width: AppStyles.buttonWidth.main,\n    backgroundColor: AppStyles.color.tint,\n    borderRadius: AppStyles.borderRadius.main,\n    padding: 10,\n    marginTop: 30\n  },\n  loginText: {\n    color: AppStyles.color.white\n  },\n  placeholder: {\n    color: 'red'\n  },\n  InputContainer: {\n    width: AppStyles.textInputWidth.main,\n    marginTop: 30,\n    borderWidth: 1,\n    borderStyle: 'solid',\n    borderColor: AppStyles.color.grey,\n    borderRadius: AppStyles.borderRadius.main\n  },\n  body: {\n    height: 42,\n    paddingLeft: 20,\n    paddingRight: 20,\n    color: AppStyles.color.text\n  },\n  facebookContainer: {\n    alignItems: 'center',\n    width: AppStyles.buttonWidth.main,\n    backgroundColor: AppStyles.color.tint,\n    borderRadius: AppStyles.borderRadius.main,\n    padding: 10,\n    marginTop: 30\n  },\n  facebookText: {\n    color: AppStyles.color.white\n  }\n});\nexport default SignupScreen;","map":{"version":3,"names":["React","useState","Alert","StyleSheet","Text","TextInput","View","TouchableOpacity","AppStyles","firestore","auth","useDispatch","login","jsx","_jsx","jsxs","_jsxs","SignupScreen","_ref","navigation","_useState","_useState2","_slicedToArray","fullname","setFullname","_useState3","_useState4","phone","setPhone","_useState5","_useState6","email","setEmail","_useState7","_useState8","password","setPassword","dispatch","onRegister","createUserWithEmailAndPassword","then","response","data","appIdentifier","user_uid","user","_user","uid","collection","doc","set","get","navigate","catch","error","code","message","alert","style","styles","container","children","title","leftTitle","InputContainer","body","placeholder","onChangeText","value","placeholderTextColor","color","grey","underlineColorAndroid","secureTextEntry","facebookContainer","marginTop","onPress","facebookText","create","flex","alignItems","fontSize","fontWeight","tint","marginBottom","alignSelf","textAlign","marginLeft","content","paddingLeft","paddingRight","text","loginContainer","width","buttonWidth","main","backgroundColor","borderRadius","padding","loginText","white","textInputWidth","borderWidth","borderStyle","borderColor","height"],"sources":["C:/Users/This_user/final project eti/uniteapp/src/screens/SignupScreen.js"],"sourcesContent":["import React, {useState} from 'react';\nimport {Alert, StyleSheet, Text, TextInput, View, TouchableOpacity} from 'react-native';\n// import Button from 'react-native-button';\nimport {AppStyles} from '../AppStyles';\nimport firestore from '@react-native-firebase/firestore';\nimport auth from '@react-native-firebase/auth';\nimport {useDispatch} from 'react-redux';\nimport {login} from '../reducers';\n\nfunction SignupScreen({navigation}) {\n  const [fullname, setFullname] = useState('');\n  const [phone, setPhone] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  const dispatch = useDispatch();\n\n  const onRegister = () => {\n    auth()\n      .createUserWithEmailAndPassword(email, password)\n      .then((response) => {\n        const data = {\n          email: email,\n          fullname: fullname,\n          phone: phone,\n          appIdentifier: 'rn-android-universal-listings',\n        };\n        const user_uid = response.user._user.uid;\n        firestore().collection('users').doc(user_uid).set(data);\n        firestore()\n          .collection('users')\n          .doc(user_uid)\n          .get()\n          .then(function (user) {\n            dispatch(login(user.data()));\n            navigation.navigate('DrawerStack', {user});\n          })\n          .catch(function (error) {\n            const {code, message} = error;\n            Alert.alert(message);\n          });\n      })\n      .catch((error) => {\n        const {code, message} = error;\n        Alert.alert(message);\n      });\n  };\n\n  return (\n    <View style={styles.container}>\n      <Text style={[styles.title, styles.leftTitle]}>Create new account</Text>\n      <View style={styles.InputContainer}>\n        <TextInput\n          style={styles.body}\n          placeholder=\"Full Name\"\n          onChangeText={setFullname}\n          value={fullname}\n          placeholderTextColor={AppStyles.color.grey}\n          underlineColorAndroid=\"transparent\"\n        />\n      </View>\n      <View style={styles.InputContainer}>\n        <TextInput\n          style={styles.body}\n          placeholder=\"Phone Number\"\n          onChangeText={setPhone}\n          value={phone}\n          placeholderTextColor={AppStyles.color.grey}\n          underlineColorAndroid=\"transparent\"\n        />\n      </View>\n      <View style={styles.InputContainer}>\n        <TextInput\n          style={styles.body}\n          placeholder=\"E-mail Address\"\n          onChangeText={setEmail}\n          value={email}\n          placeholderTextColor={AppStyles.color.grey}\n          underlineColorAndroid=\"transparent\"\n        />\n      </View>\n      <View style={styles.InputContainer}>\n        <TextInput\n          style={styles.body}\n          placeholder=\"Password\"\n          secureTextEntry={true}\n          onChangeText={setPassword}\n          value={password}\n          placeholderTextColor={AppStyles.color.grey}\n          underlineColorAndroid=\"transparent\"\n        />\n      </View>\n      <TouchableOpacity\n        style={[styles.facebookContainer, {marginTop: 50}]}\n        onPress={() => onRegister()}>\n        <Text style={styles.facebookText}>Sign Up</Text>\n      </TouchableOpacity>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n  },\n  title: {\n    fontSize: AppStyles.fontSize.title,\n    fontWeight: 'bold',\n    color: AppStyles.color.tint,\n    marginTop: 20,\n    marginBottom: 20,\n  },\n  leftTitle: {\n    alignSelf: 'stretch',\n    textAlign: 'left',\n    marginLeft: 20,\n  },\n  content: {\n    paddingLeft: 50,\n    paddingRight: 50,\n    textAlign: 'center',\n    fontSize: AppStyles.fontSize.content,\n    color: AppStyles.color.text,\n  },\n  loginContainer: {\n    width: AppStyles.buttonWidth.main,\n    backgroundColor: AppStyles.color.tint,\n    borderRadius: AppStyles.borderRadius.main,\n    padding: 10,\n    marginTop: 30,\n  },\n  loginText: {\n    color: AppStyles.color.white,\n  },\n  placeholder: {\n    color: 'red',\n  },\n  InputContainer: {\n    width: AppStyles.textInputWidth.main,\n    marginTop: 30,\n    borderWidth: 1,\n    borderStyle: 'solid',\n    borderColor: AppStyles.color.grey,\n    borderRadius: AppStyles.borderRadius.main,\n  },\n  body: {\n    height: 42,\n    paddingLeft: 20,\n    paddingRight: 20,\n    color: AppStyles.color.text,\n  },\n  facebookContainer: {\n    alignItems: 'center',\n    width: AppStyles.buttonWidth.main,\n    backgroundColor: AppStyles.color.tint,\n    borderRadius: AppStyles.borderRadius.main,\n    padding: 10,\n    marginTop: 30,\n  },\n  facebookText: {\n    color: AppStyles.color.white,\n  },\n});\n\nexport default SignupScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}