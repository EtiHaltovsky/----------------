{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { MongoClient } from 'mongodb';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nfunction FetchDB() {\n  var uri, dbName, client, db, volunteers, result;\n  return _regeneratorRuntime.async(function FetchDB$(_context) {\n    while (1) switch (_context.prev = _context.next) {\n      case 0:\n        uri = 'mongodb://localhost:27017';\n        dbName = 'UniteVolunteerDB';\n        client = new MongoClient(uri, {\n          useUnifiedTopology: true\n        });\n        _context.prev = 3;\n        _context.next = 6;\n        return _regeneratorRuntime.awrap(volunteers.connect());\n      case 6:\n        db = client.db(dbName);\n        volunteers = db.volunteers('volunteers');\n        _context.next = 10;\n        return _regeneratorRuntime.awrap(volunteers.find.toArray());\n      case 10:\n        result = _context.sent;\n        return _context.abrupt(\"return\", result);\n      case 14:\n        _context.prev = 14;\n        _context.t0 = _context[\"catch\"](3);\n        console.error('שגיאה בשליפת הנתונים ממסד הנתונים:', _context.t0);\n        throw _context.t0;\n      case 18:\n        _context.prev = 18;\n        client.close();\n        return _context.finish(18);\n      case 21:\n      case \"end\":\n        return _context.stop();\n    }\n  }, null, null, [[3, 14, 18, 21]], Promise);\n}\nexport default FetchDB;","map":{"version":3,"names":["MongoClient","View","Text","StyleSheet","TouchableOpacity","FetchDB","uri","dbName","client","db","volunteers","result","_regeneratorRuntime","async","FetchDB$","_context","prev","next","useUnifiedTopology","awrap","connect","find","toArray","sent","abrupt","t0","console","error","close","finish","stop","Promise"],"sources":["C:/Users/This_user/final project eti/uniteapp/components/FetchDB.jsx"],"sourcesContent":["import { MongoClient } from 'mongodb';\r\n// import React, { useState } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity } from 'react-native';\r\n\r\n// פונקציה אסינכרונית עבור שליפת הנתונים ממסד הנתונים\r\nasync function FetchDB() {\r\n  const uri = 'mongodb://localhost:27017'; // URI של מסד הנתונים MongoDB\r\n  const dbName = 'UniteVolunteerDB'; // שם בסיס הנתונים\r\n\r\n  // יצירת חיבור למסד הנתונים\r\n  const client = new MongoClient(uri, { useUnifiedTopology: true });\r\n  \r\n  try {\r\n    await volunteers.connect(); // התחברות למסד הנתונים\r\n    \r\n    const db = client.db(dbName); // קבלת יישות בסיס הנתונים\r\n    const volunteers = db.volunteers('volunteers'); // קבלת יישות הקולקציה\r\n    \r\n    // const query = { /* אובייקט עם התנאים לחיפוש */ };\r\n    // const options = { /* אובייקט עם האפשרויות של השאילתה */ };\r\n    \r\n    const result = await volunteers.find.toArray(); // ביצוע שאילתת חיפוש וקבלת תוצאות\r\n    \r\n    return result; // החזרת התוצאות\r\n  } catch (error) {\r\n    console.error('שגיאה בשליפת הנתונים ממסד הנתונים:', error);\r\n    throw error;\r\n  } finally {\r\n    client.close(); // סגירת החיבור למסד הנתונים בסיום הפונקציה\r\n  }\r\n}\r\n\r\nexport default FetchDB;\r\n"],"mappings":";AAAA,SAASA,WAAW,QAAQ,SAAS;AAAC,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,UAAA;AAAA,OAAAC,gBAAA;AAKtC,SAAeC,OAAOA,CAAA;EAAA,IAAAC,GAAA,EAAAC,MAAA,EAAAC,MAAA,EAAAC,EAAA,EAAAC,UAAA,EAAAC,MAAA;EAAA,OAAAC,mBAAA,CAAAC,KAAA,UAAAC,SAAAC,QAAA;IAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;MAAA;QACdX,GAAG,GAAG,2BAA2B;QACjCC,MAAM,GAAG,kBAAkB;QAG3BC,MAAM,GAAG,IAAIR,WAAW,CAACM,GAAG,EAAE;UAAEY,kBAAkB,EAAE;QAAK,CAAC,CAAC;QAAAH,QAAA,CAAAC,IAAA;QAAAD,QAAA,CAAAE,IAAA;QAAA,OAAAL,mBAAA,CAAAO,KAAA,CAGzDT,UAAU,CAACU,OAAO,CAAC,CAAC;MAAA;QAEpBX,EAAE,GAAGD,MAAM,CAACC,EAAE,CAACF,MAAM,CAAC;QACtBG,UAAU,GAAGD,EAAE,CAACC,UAAU,CAAC,YAAY,CAAC;QAAAK,QAAA,CAAAE,IAAA;QAAA,OAAAL,mBAAA,CAAAO,KAAA,CAKzBT,UAAU,CAACW,IAAI,CAACC,OAAO,CAAC,CAAC;MAAA;QAAxCX,MAAM,GAAAI,QAAA,CAAAQ,IAAA;QAAA,OAAAR,QAAA,CAAAS,MAAA,WAELb,MAAM;MAAA;QAAAI,QAAA,CAAAC,IAAA;QAAAD,QAAA,CAAAU,EAAA,GAAAV,QAAA;QAEbW,OAAO,CAACC,KAAK,CAAC,oCAAoC,EAAAZ,QAAA,CAAAU,EAAO,CAAC;QAAC,MAAAV,QAAA,CAAAU,EAAA;MAAA;QAAAV,QAAA,CAAAC,IAAA;QAG3DR,MAAM,CAACoB,KAAK,CAAC,CAAC;QAAC,OAAAb,QAAA,CAAAc,MAAA;MAAA;MAAA;QAAA,OAAAd,QAAA,CAAAe,IAAA;IAAA;EAAA,kCAAAC,OAAA;AAAA;AAInB,eAAe1B,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}